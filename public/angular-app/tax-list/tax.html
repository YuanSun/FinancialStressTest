
<h3 style="margin-left: 80px; margin-top: 20px;">{{vm.title}}</h3>
<!-- <ul>
    <li ng-repeat="(threshold, rate) in vm.taxRate">{{threshold}} : 
        <ul>
            <li ng-repeat="(k, v) in rate">{{k}} -- {{v}}% </li>
        </ul>
    </li>
</ul> -->
<div class="income-tax-rate">
    <div class="table100 ver5 m-b-110 col-sm-4" style="margin-left: 80px; margin-top:20px; float:left;">
        <div class="table100-head">
            <table>
                <thead>
                    <tr class="row100 head">
                        <th class="cell100 column1">Taxable income</th>
                        <th class="cell100 column2">Federal</th>
                        <th class="cell100 column2">Quebec</th>
                        <th class="cell100 column2">Total</th>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="table100-body">
            <table>
                <tbody>
                    <tr class="row100 body" ng-repeat="(income, rate) in vm.taxRate">
                        <td class="cell100 column1">{{income}}</td>
                        <td class="cell100 column2" ng-repeat="(k, v) in rate">{{v}} %</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="income-calculator col-l-6" style="margin-left: 80px; margin-top:20px; display: inline-block;">  
        <label>Income Tax Calculator</label><br/>
        <label>Anually income:</label> $<input type="text" class="annual-income" name="annual-income" value="vm.enteredIncome" ng-model="vm.enteredIncome" ng-keyup="vm.calculateTax(vm.enteredIncome)"></input>
        <!-- <input type="submit" class="button btn btn-primary" value="Calculate Tax" ng-click="vm.calculateTax(vm.enteredIncome)"></input> -->
        <input type="submit" class="button btn btn-warning" value="Reset" ng-click="vm.resultIncome()"></input>
        <br/>
        <div ng-model="vm.calcualtedResult" ng-hide="!vm.calculatedResult">
            <ul>
                <li ng-model="vm.CAPTION" ng-repeat="(k, v) in vm.calculatedResult">{{vm.CAPTION[k]}}:  {{v}}</li>
            </ul>
        </div>
    </div>
</div>

<br>
<div class="income-chart" style="margin-left: 80px; margin-top:20px; display: inline-block;">
    <div id="chart"></div>
    <div class="btn-group btn-group-sm">
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.TOTAL)">{{vm.CHARTTITLE.TOTAL}}</button>
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.FEDERAL)">{{vm.CHARTTITLE.FEDERAL}}</button>
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.QUEBEC)">{{vm.CHARTTITLE.QUEBEC}}</button>
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.MARGINALRATE)">{{vm.CHARTTITLE.MARGINALRATE}}</button>
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.AFTERTAX)">{{vm.CHARTTITLE.AFTERTAX}}</button>
        <button class="button btn btn-primary" ng-click="vm.updateChart(vm.CHART.MONTHLY)">{{vm.CHARTTITLE.MONTHLY}}</button>
    </div>
</div>